{"version":3,"file":"index.js","sources":["../node_modules/_browser-jsonp@1.1.5@browser-jsonp/lib/jsonp.js","../node_modules/_urlx@1.3.0@urlx/dist/index.js","../src/lib/util.js","../src/lib/pluginInfoUpload.js","../src/index.js"],"sourcesContent":["(function() {\n  var JSONP, computedUrl, createElement, encode, noop, objectToURI, random, randomString;\n\n  createElement = function(tag) {\n    return window.document.createElement(tag);\n  };\n\n  encode = window.encodeURIComponent;\n\n  random = Math.random;\n\n  JSONP = function(options) {\n    var callback, callbackFunc, callbackName, done, head, params, script;\n    if (options == null) {\n      options = {};\n    }\n    params = {\n      data: options.data || {},\n      error: options.error || noop,\n      success: options.success || noop,\n      beforeSend: options.beforeSend || noop,\n      complete: options.complete || noop,\n      url: options.url || ''\n    };\n    params.computedUrl = computedUrl(params);\n    if (params.url.length === 0) {\n      throw new Error('MissingUrl');\n    }\n    done = false;\n    if (params.beforeSend({}, params) !== false) {\n      callbackName = options.callbackName || 'callback';\n      callbackFunc = options.callbackFunc || 'jsonp_' + randomString(15);\n      callback = params.data[callbackName] = callbackFunc;\n      window[callback] = function(data) {\n        window[callback] = null;\n        params.success(data, params);\n        return params.complete(data, params);\n      };\n      script = createElement('script');\n      script.src = computedUrl(params);\n      script.async = true;\n      script.onerror = function(evt) {\n        params.error({\n          url: script.src,\n          event: evt\n        });\n        return params.complete({\n          url: script.src,\n          event: evt\n        }, params);\n      };\n      script.onload = script.onreadystatechange = function() {\n        var ref, ref1;\n        if (done || ((ref = this.readyState) !== 'loaded' && ref !== 'complete')) {\n          return;\n        }\n        done = true;\n        if (script) {\n          script.onload = script.onreadystatechange = null;\n          if ((ref1 = script.parentNode) != null) {\n            ref1.removeChild(script);\n          }\n          return script = null;\n        }\n      };\n      head = window.document.getElementsByTagName('head')[0] || window.document.documentElement;\n      head.insertBefore(script, head.firstChild);\n    }\n    return {\n      abort: function() {\n        window[callback] = function() {\n          return window[callback] = null;\n        };\n        done = true;\n        if (script != null ? script.parentNode : void 0) {\n          script.onload = script.onreadystatechange = null;\n          script.parentNode.removeChild(script);\n          return script = null;\n        }\n      }\n    };\n  };\n\n  noop = function() {\n    return void 0;\n  };\n\n  computedUrl = function(params) {\n    var url;\n    url = params.url;\n    url += params.url.indexOf('?') < 0 ? '?' : '&';\n    url += objectToURI(params.data);\n    return url;\n  };\n\n  randomString = function(length) {\n    var str;\n    str = '';\n    while (str.length < length) {\n      str += random().toString(36).slice(2, 3);\n    }\n    return str;\n  };\n\n  objectToURI = function(obj) {\n    var data, key, value;\n    data = (function() {\n      var results;\n      results = [];\n      for (key in obj) {\n        value = obj[key];\n        results.push(encode(key) + '=' + encode(value));\n      }\n      return results;\n    })();\n    return data.join('&');\n  };\n\n  if (typeof define !== \"undefined\" && define !== null ? define.amd : void 0) {\n    define(function() {\n      return JSONP;\n    });\n  } else if (typeof module !== \"undefined\" && module !== null ? module.exports : void 0) {\n    module.exports = JSONP;\n  } else {\n    this.JSONP = JSONP;\n  }\n\n}).call(this);\n","'use strict';\n\n/*\n * @Author: puxiao.wh \n * @Date: 2017-02-27 16:21:45 \n * @Last Modified by: puxiao.wh\n * @Last Modified time: 2017-12-14 19:21:51\n */\n\n/**\n * url params => json\n * @param  {String} params=''\n * @param  {Function} callback=()=>{}\n */\nfunction parse() {\n\tvar params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\tvar callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\tvar json = {};\n\tif (params.indexOf('?') !== -1) {\n\t\tparams = params.substr(1).split('&');\n\t}\n\tfor (var i = 0, l = params.length; i < l; i++) {\n\t\tvar param = params[i];\n\t\tparam = param.split('=');\n\t\tjson[param[0]] = callback ? callback(param[1]) : param[1];\n\t}\n\treturn json;\n}\n\nfunction parseEncode() {\n\tvar params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\tvar callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\treturn parse(params, function (data) {\n\t\treturn encodeURIComponent(data);\n\t});\n}\n\nfunction parseDecode() {\n\tvar params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\tvar callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\treturn parse(params, function (data) {\n\t\treturn decodeURIComponent(data);\n\t});\n}\n\n/**\n * json => url params\n * @param  {Object} data\n * @param  {Boolean} isSearch=true, Whether to add '?'\n */\nfunction stringify() {\n\tvar data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar isSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\tvar callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n\tvar params = [];\n\tvar res = '';\n\tfor (var key in data) {\n\t\tif (data.hasOwnProperty(key)) {\n\t\t\tparams.push(callback ? key + '=' + callback(data[key]) : key + '=' + data[key]);\n\t\t}\n\t}\n\tif (params.length > 0) {\n\t\tres = isSearch ? '?' : '';\n\t}\n\treturn res + params.join('&');\n}\n\nfunction stringifyEncode() {\n\tvar data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar isSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n\treturn stringify(data, isSearch, function (data) {\n\t\treturn encodeURIComponent(data);\n\t});\n}\n\nfunction stringifyDecode() {\n\tvar data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar isSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n\treturn stringify(data, isSearch, function (data) {\n\t\treturn decodeURIComponent(data);\n\t});\n}\n\n/**\n * old params => new params\n * @param  {String} url=location.href\n * @param  {Object} obj\n */\nfunction replace() {\n\tvar url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\tvar obj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tfor (var o in obj) {\n\t\tif (obj.hasOwnProperty(o)) {\n\t\t\tvar ixOf = url.indexOf(o);\n\t\t\t//  是否存在特定参数\n\t\t\tif (ixOf > -1) {\n\t\t\t\tvar keyIx = ixOf + o.length + 1,\n\t\t\t\t    afterAllStr = url.substr(keyIx),\n\t\t\t\t    beforeStr = url.substr(0, keyIx),\n\t\t\t\t    ixOf2 = afterAllStr.indexOf('&');\n\t\t\t\tif (ixOf2 > -1) {\n\t\t\t\t\tvar afterStr = afterAllStr.substr(ixOf2);\n\t\t\t\t\t//  该参数原val\n\t\t\t\t\t// let content = afterAllStr.substr( 0, ixOf2 );\n\t\t\t\t\treturn beforeStr + obj[o] + afterStr;\n\t\t\t\t} else {\n\t\t\t\t\treturn beforeStr + obj[o];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// 不存在该参数，向后追加\n\t\t\t\tif (url.indexOf('?') === -1) {\n\t\t\t\t\treturn url + '?' + o + '=' + obj[o];\n\t\t\t\t} else {\n\t\t\t\t\treturn url + '&' + o + '=' + obj[o];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nvar urlx = {\n\tparse: parse,\n\tparseEncode: parseEncode,\n\tparseDecode: parseDecode,\n\tstringifyEncode: stringifyEncode,\n\tstringifyDecode: stringifyDecode,\n\tstringify: stringify,\n\treplace: replace\n};\n\nmodule.exports = urlx;\n","import urlx from 'urlx'\nimport pluginInfoUpload from './pluginInfoUpload'\n\nwindow.jplus || (window.jplus = {})\nwindow.jplus.plugin || (window.jplus.plugin = {})\n\nconst JplusUtil = {\n    urlx,\n    isDebug: urlx.parse(location.search)['_jplusDebugModel_'] === '1',\n    // 设置插件方法\n    setPluginFun(pluginKey, funName, fun) {\n        window.jplusPluginFun || (window.jplusPluginFun = {})\n        window.jplusPluginFun[pluginKey] || (window.jplusPluginFun[pluginKey] = {})\n        window.jplusPluginFun[pluginKey][funName] = fun\n    },\n    // 获取插件方法\n    getPluginFun(pluginKey) {\n        window.jplusPluginFun || (window.jplusPluginFun = {})\n        return window.jplusPluginFun[pluginKey]\n    },\n    // 获取插入插件信息\n    getPlugins() {\n        if (window.jplus.plugin) {\n            return window.jplus.plugin\n        }\n    },\n    // 获取dom属性\n    getProps(ele) {\n        const attributes = ele.attributes || {}\n        const keys = Object.keys(attributes)\n        const props = {}\n        keys.forEach((index) => {\n            props[attributes[index].nodeName] = attributes[index].nodeValue\n        })\n        return props\n    },\n    // 加载脚本\n    importPlugin(scripts, callback = function () {}) {\n        if(!Array.isArray(scripts)) scripts = [scripts];\n        const HEAD = document.getElementsByTagName(\"head\").item(0) || document.documentElement;\n        const s = new Array();\n        let loaded = 0;\n        for (let i = 0; i < scripts.length; i++) {\n            // 判断脚本是否已加载过\n            const pluginInfo = window.jplus && window.jplus.pluginInfo\n            const readyPlugin = pluginInfo && pluginInfo[scripts[i].key]\n            \n            // 没有被加载过，侧进行加载\n            if(!readyPlugin) {\n                // 上报插件信息\n                pluginInfoUpload(scripts[i]);\n                s[i] = document.createElement(\"script\");\n                s[i].setAttribute(\"type\", \"text/javascript\");\n                s[i].onload = s[i].onreadystatechange = function (event) { //Attach handlers for all browsers\n                    if (!/*@cc_on!@*/0 || this.readyState == \"loaded\" || this.readyState == \"complete\") {\n                        loaded++;\n                        this.onload = this.onreadystatechange = null; this.parentNode.removeChild(this);\n                        // 全部加载完回调\n                        if (loaded == scripts.length && typeof (callback) == \"function\") callback(scripts);\n                    }\n                };\n                s[i].setAttribute(\"src\", scripts[i].src);\n                HEAD.appendChild(s[i]);\n            }\n        }\n    },\n    // 加载依赖项\n    importRelyPlugin(keys, callback = function () {}) {\n        // keys 插件名列表\n        const srcs = []\n        if (!Array.isArray(keys)) keys = [keys]\n        keys.forEach((key) => {\n            const src = window.jplusPluginInfo[key]\n            srcs.push({\n                src,\n                key\n            })\n        })\n        JplusUtil.importPlugin(srcs, callback)\n    },\n    // 设置配置项, isRely判断是否需要进行依赖检测\n    setConfig(key, config, isRely) {\n        // 配置项设置\n        window.jplus.plugin[key] || (window.jplus.plugin[key] = [])\n        if (Array.isArray(config)) {\n            window.jplus.plugin[key] = window.jplus.plugin[key].concat(config)\n        } else {\n            window.jplus.plugin[key].push(config)\n        }\n\n        if(isRely) {\n            // 判断该插件是否已被加载过\n            const pluginInfo = window.jplus.pluginInfo\n            const readyPlugin = pluginInfo[key]\n            // 没有被加载过，则进行加载\n            if (!readyPlugin) {\n                const srcs = []\n                const src = window.jplusPluginInfo[key]\n                srcs.push({\n                    src,\n                    key\n                })\n                JplusUtil.importPlugin(srcs)\n            }\n        }\n    },\n    // 获得配置项\n    getConfig(key) {\n        window.jplus.plugin[key] || (window.jplus.plugin[key] = [])\n        return window.jplus.plugin[key]\n    },\n    // 图片请求\n    $get(url, success) {\n        const img = new Image()\n        img.style.display = \"none\"\n        img.src = url\n        document.body.appendChild(img);\n        success && success()\n        //删除Dom\n        setTimeout(() => {\n            document.body.removeChild(img)\n        }, 50)\n    }\n}\n\nexport default JplusUtil","function pluginInfoUpload(options) {\n    const { getPluginFun } = window.jplusUtil\n    const { src, key } = options\n    const srcArray = src && src.split('/')\n    const len = srcArray.length\n\n    window.jplus.pluginInfo || (window.jplus.pluginInfo = {})\n    window.jplus.pluginInfo[key] = {\n        name: srcArray[len - 3],\n        version: srcArray[len - 2],\n        src,\n        // 是否已上报过\n        isRecord: false\n    }\n\n    getPluginFun('probe') && \n    getPluginFun('probe').jplusPluginLoadedGoldlog && \n    getPluginFun('probe').jplusPluginLoadedGoldlog()\n}\n\nexport default pluginInfoUpload\n","/*\n * @Author: puxiao.wh\n * @Date: 2019-01-14 10:51:53\n * @LastEditors: puxiao.wh\n * @LastEditTime: 2019-01-18 18:03:54\n * @Description: \n */\nimport jsonp from 'browser-jsonp'\nimport util from './lib/util'\n\nwindow.jplusUtil = util\n\nfunction load() {\n    jsonp({\n        url: '//dcms.1688.com/open/query.json?app=DCMS&dataId=236&resourceId=1532181',\n        // url: '//dcms.1688.com/open/query.json?app=DCMS&dataId=236&resourceId=828710',\n        data: {},\n        success: function (json) {\n            const sourceMap = JSON.parse(json.content.data[0].versionContent)\n            const jsList = []\n            const pluginKey = Object.keys(window.jplus.plugin || {})\n            const jplusPluginInfo = {}\n\n            sourceMap.jsList.forEach((item) => {\n                jplusPluginInfo[item.key] = item.src\n                const indexOf = pluginKey.indexOf(item.key)\n                if (item.key === 'probe') {\n                    jsList.push({\n                        src: item.src,\n                        key: item.key\n                    })\n                } else if (indexOf !== -1) {\n                    jsList.push({\n                        src: item.src,\n                        key: item.key\n                    })\n                }\n            })\n\n            window.jplusPluginInfo = jplusPluginInfo\n            window.jplusIsDebuge = util.urlx.parse(location.search)['_jplusDebugModel_'] === '1'\n            // 获取远程插件版本\n            util.importPlugin(jsList)\n        }\n    })\n}\n\n\n\nfunction onReady(fn) {\n    var readyState = document.readyState;\n    if (readyState === 'interactive' || readyState === 'complete') {\n        fn()\n    } else {\n        window.addEventListener(\"DOMContentLoaded\", fn);\n    }\n}\n\n\nonReady(load);\n\nexport default load\n"],"names":["JSONP","computedUrl","createElement","encode","noop","objectToURI","random","randomString","tag","window","document","encodeURIComponent","Math","options","callback","callbackFunc","callbackName","done","head","params","script","data","error","success","beforeSend","complete","url","length","Error","src","async","onerror","evt","event","onload","onreadystatechange","ref","ref1","this","readyState","parentNode","removeChild","getElementsByTagName","documentElement","insertBefore","firstChild","abort","indexOf","str","toString","slice","obj","key","value","results","push","join","module","exports","call","parse","arguments","undefined","json","substr","split","i","l","param","stringify","isSearch","res","hasOwnProperty","parseEncode","parseDecode","decodeURIComponent","stringifyEncode","stringifyDecode","replace","o","ixOf","keyIx","afterAllStr","beforeStr","ixOf2","afterStr","jplus","plugin","JplusUtil","urlx","location","search","pluginKey","funName","fun","jplusPluginFun","ele","attributes","props","Object","keys","forEach","index","nodeName","nodeValue","scripts","Array","isArray","getPluginFun","srcArray","len","HEAD","item","s","loaded","pluginInfo","jplusUtil","jplusPluginLoadedGoldlog","setAttribute","appendChild","srcs","jplusPluginInfo","importPlugin","config","isRely","concat","img","Image","style","display","body","load","sourceMap","JSON","content","versionContent","jsList","jplusIsDebuge","util","fn","addEventListener","onReady"],"mappings":"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"}